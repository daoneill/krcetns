<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KRCETNS | Interactive School Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans', sans-serif; scroll-behavior: smooth; }
        .bg-krc-teal { background-color: #006064; }
        .text-krc-teal { color: #006064; }
        .border-krc-teal { border-color: #006064; }
        .bg-krc-orange { background-color: #F57C00; }
        .text-krc-orange { color: #F57C00; }
        .border-krc-orange { border-color: #F57C00; }
        .bg-krc-light { background-color: #F1F8F9; }
        .bg-krc-orange-light { background-color: #FFF3E0; }
        
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: auto; height: 300px; }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .school-logo { height: 60px; width: auto; object-fit: contain; }
        .school-logo-footer { height: 80px; width: auto; filter: brightness(0) invert(1); opacity: 0.9; }
        
        .nav-text { font-size: 0.82rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.025em; }
        .dropdown-item { font-size: 0.85rem; font-weight: 600; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

    <div id="app" class="flex flex-col min-h-screen">
        <!-- Initial Loading State -->
        <div class="flex items-center justify-center flex-grow">
            <div class="text-center">
                <p class="text-krc-teal font-bold animate-pulse text-xl uppercase tracking-widest">Initialising School Portal...</p>
                <p class="text-gray-400 text-sm mt-2">Connecting to data.json</p>
            </div>
        </div>
    </div>

    <script>
        let currentView = 'home';
        let SITE_DATA = null;

        /**
         * FETCH DATA
         * Simplified relative fetch to avoid URL constructor errors in restricted environments.
         * This function attempts to load 'data.json' from the same directory as the HTML file.
         */
        async function loadSiteData() {
            try {
                // Fetch using relative path - most reliable across GitHub/Local environments
                const response = await fetch('data.json');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                SITE_DATA = await response.json();
                renderApp();
            } catch (error) {
                console.error('Failed to load site data:', error);
                
                // Detailed Fallback UI to help non-technical users identify issues
                document.getElementById('app').innerHTML = `
                    <div class="p-10 md:p-20 text-center flex flex-col items-center justify-center min-h-screen bg-gray-100">
                        <div class="bg-white p-8 md:p-12 rounded-[2rem] max-w-2xl shadow-2xl border border-red-100">
                            <div class="text-6xl mb-6">‚ö†Ô∏è</div>
                            <h2 class="text-3xl font-black text-gray-800 mb-4">Content Connection Error</h2>
                            <p class="text-gray-600 mb-8 leading-relaxed text-lg text-left">
                                The portal could not load the <strong>data.json</strong> file. 
                                <br><br>
                                <strong>Common reasons:</strong>
                                <ul class="text-left list-disc list-inside text-gray-500 space-y-2 mb-8">
                                    <li>The file <strong>data.json</strong> has not been uploaded to GitHub yet.</li>
                                    <li>There is a syntax error (like a missing comma) in your <strong>data.json</strong>.</li>
                                    <li>You are opening the file locally without a web server (browsers block this for security).</li>
                                </ul>
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                                <button onclick="location.reload()" class="bg-krc-teal text-white px-10 py-3 rounded-xl font-bold hover:bg-teal-700 transition shadow-lg">Retry Connection</button>
                                <a href="https://github.com" target="_blank" class="bg-gray-800 text-white px-10 py-3 rounded-xl font-bold hover:bg-black transition shadow-lg text-center">Check GitHub Repo</a>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        const UI = {
            Navbar: () => `
                <nav class="bg-white shadow-md sticky top-0 z-50">
                    <div class="max-w-[1600px] mx-auto px-4 flex justify-between h-24">
                        <div class="flex items-center cursor-pointer flex-shrink-0" onclick="router('home')">
                            <img src="krcetns_logo.webp" alt="Logo" class="school-logo mr-3">
                            <div class="hidden sm:flex flex-col">
                                <span class="font-bold text-lg text-krc-teal leading-none">KRCETNS</span>
                                <span class="text-[9px] text-krc-orange font-bold uppercase tracking-widest mt-1">Educate Together</span>
                            </div>
                        </div>
                        
                        <div class="hidden lg:flex items-center space-x-4">
                            <button onclick="router('home')" class="nav-text text-gray-600 hover:text-krc-teal transition">Home</button>
                            
                            <div class="relative group h-full flex items-center">
                                <button class="nav-text text-gray-600 group-hover:text-krc-teal transition flex items-center">
                                    Our School <span class="ml-1 text-[10px]">‚ñº</span>
                                </button>
                                <div class="absolute top-[80%] left-0 w-64 bg-white shadow-2xl rounded-2xl py-4 border border-gray-100 hidden group-hover:block fade-in z-50">
                                    <button onclick="router('team')" class="dropdown-item block w-full text-left px-8 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">About Us & Team</button>
                                    <button onclick="router('ethos')" class="dropdown-item block w-full text-left px-8 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">Ethos & Values</button>
                                    <button onclick="router('bom')" class="dropdown-item block w-full text-left px-8 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">Board of Management</button>
                                    <button onclick="router('pa')" class="dropdown-item block w-full text-left px-8 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">Parents Association</button>
                                </div>
                            </div>

                            <button onclick="router('learning')" class="nav-text text-gray-600 hover:text-krc-teal transition">Learning</button>
                            <button onclick="router('parents')" class="nav-text text-gray-600 hover:text-krc-teal transition">Parent Hub</button>
                            <button onclick="router('news')" class="nav-text text-gray-600 hover:text-krc-teal transition">News</button>
                            <button onclick="router('admissions')" class="nav-text bg-krc-orange text-white px-6 py-2.5 rounded-full shadow-lg hover:bg-orange-700 transition">Join Us</button>
                        </div>
                        
                        <div class="flex items-center lg:hidden">
                            <button onclick="toggleMobileMenu()" class="text-3xl text-krc-teal">‚ò∞</button>
                        </div>
                    </div>
                    
                    <div id="mobile-menu" class="hidden lg:hidden bg-white shadow-2xl absolute w-full border-t border-gray-100 max-h-[85vh] overflow-y-auto">
                        <div class="flex flex-col py-2 font-bold text-gray-700">
                            <button onclick="router('home')" class="text-left px-8 py-4 border-b border-gray-50">Home</button>
                            <div class="px-8 py-3 text-[10px] text-gray-400 uppercase tracking-widest bg-gray-50">Our School</div>
                            <button onclick="router('team')" class="text-left px-12 py-3 border-b border-gray-50">About Us & Team</button>
                            <button onclick="router('ethos')" class="text-left px-12 py-3 border-b border-gray-50">Ethos & Values</button>
                            <button onclick="router('bom')" class="text-left px-12 py-3 border-b border-gray-50">Board of Management</button>
                            <button onclick="router('pa')" class="text-left px-12 py-3 border-b border-gray-50">Parents Association</button>
                            <button onclick="router('learning')" class="text-left px-8 py-4 border-b border-gray-50">Learning</button>
                            <button onclick="router('parents')" class="text-left px-8 py-4 border-b border-gray-50">Parent Hub</button>
                            <button onclick="router('news')" class="text-left px-8 py-4 border-b border-gray-50">News</button>
                            <button onclick="router('admissions')" class="text-center mx-6 my-4 py-4 rounded-xl text-white bg-krc-orange">JOIN OUR SCHOOL</button>
                        </div>
                    </div>
                </nav>
            `,
            Footer: () => `
                <footer class="bg-slate-900 text-white mt-auto py-16">
                    <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12 text-center md:text-left">
                        <div class="flex flex-col items-center md:items-start">
                            <img src="krcetns_logo.webp" class="school-logo-footer mb-6">
                            <p class="text-slate-400 text-sm leading-relaxed max-w-xs">Equality-based primary education for Killester, Raheny, and Clontarf.</p>
                        </div>
                        <div>
                            <h3 class="text-krc-orange font-bold mb-6 uppercase tracking-widest text-sm">Our School</h3>
                            <div class="flex flex-col space-y-3 text-slate-400 text-sm">
                                <button onclick="router('team')" class="hover:text-white text-left transition">About Us & Team</button>
                                <button onclick="router('ethos')" class="hover:text-white text-left transition">Ethos & Values</button>
                                <button onclick="router('bom')" class="hover:text-white text-left transition">Board of Management</button>
                                <button onclick="router('pa')" class="hover:text-white text-left transition">Parents Association</button>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-krc-orange font-bold mb-6 uppercase tracking-widest text-sm">Contact</h3>
                            <a href="${SITE_DATA.contact.mapsUrl}" target="_blank" class="block text-slate-400 text-sm hover:text-white leading-relaxed transition">
                                Collins Avenue East,<br>Dublin 5, D05 F2H1
                            </a>
                            <p class="text-slate-400 text-sm mt-4 font-bold tracking-wider">${SITE_DATA.contact.phone}</p>
                            <p class="text-slate-400 text-sm mt-1">${SITE_DATA.contact.email}</p>
                        </div>
                        <div>
                            <button onclick="router('admissions')" class="bg-krc-teal hover:bg-teal-700 text-white px-6 py-3 rounded-xl font-bold w-full shadow-lg transition">Apply to Join</button>
                        </div>
                    </div>
                </footer>
            `
        };

        const Pages = {
            home: () => `
                <section class="mb-16 text-center py-8 fade-in">
                    <h1 class="text-5xl md:text-7xl font-black text-krc-teal mb-6 tracking-tight leading-tight">Learn Together to Live Together</h1>
                    <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">KRCETNS is a warm, nurturing environment where every child genuinely belongs.</p>
                </section>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                    <a href="mailto:${SITE_DATA.contact.email}" class="bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 flex items-center hover:shadow-md transition">
                        <div class="text-4xl mr-6">‚úâÔ∏è</div>
                        <div><h4 class="font-bold text-gray-800">Email</h4><p class="text-sm text-gray-500">${SITE_DATA.contact.email}</p></div>
                    </a>
                    <a href="${SITE_DATA.contact.mapsUrl}" target="_blank" class="bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 flex items-center hover:shadow-md transition group">
                        <div class="text-4xl mr-6">üìç</div>
                        <div><h4 class="font-bold text-gray-800 group-hover:text-krc-teal transition">Location</h4><p class="text-sm text-gray-500">Collins Ave East, D5</p></div>
                    </a>
                    <div class="bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 flex items-center">
                        <div class="text-4xl mr-6">üìû</div>
                        <div><h4 class="font-bold text-gray-800">Phone</h4><p class="text-sm text-gray-500">${SITE_DATA.contact.phone}</p></div>
                    </div>
                </div>

                <div class="bg-white p-12 rounded-[3rem] shadow-xl border border-gray-100 grid lg:grid-cols-2 gap-16 items-center">
                    <div>
                        <h2 class="text-4xl font-black text-krc-teal mb-6 leading-tight tracking-tight">Our School's Growth</h2>
                        <p class="text-lg text-gray-600 mb-8 leading-relaxed">Since opening in 2019, we have grown from 7 pupils to a community catering for 3rd class. By 2026, we will be a full primary school.</p>
                        <button onclick="router('team')" class="bg-krc-teal text-white px-8 py-3.5 rounded-2xl font-bold shadow-lg hover:bg-teal-700 transition">Read the Principal's Welcome</button>
                    </div>
                    <div class="chart-container"><canvas id="homeStatsChart"></canvas></div>
                </div>
            `,
            team: () => `
                <div class="mb-12 fade-in"><h2 class="text-4xl font-black text-krc-teal tracking-tight leading-tight">About Us & Team</h2></div>
                <section class="bg-white p-10 md:p-14 rounded-[2.5rem] shadow-lg border border-gray-100 mb-16">
                    <h3 class="text-3xl font-black text-krc-teal mb-8">Principal's Welcome</h3>
                    <div class="text-gray-700 leading-relaxed text-lg space-y-6">
                        ${SITE_DATA.principal.message.split('\n').map(p => p ? `<p>${p}</p>` : '').join('')}
                    </div>
                    <div class="mt-10 pt-10 border-t border-gray-50 flex items-center justify-between">
                        <div>
                            <p class="font-black text-2xl text-krc-teal">${SITE_DATA.principal.name}</p>
                            <p class="text-krc-orange font-bold uppercase tracking-widest text-xs">${SITE_DATA.principal.role}</p>
                        </div>
                    </div>
                </section>

                <div class="space-y-20">
                    ${['Leadership & Administration', 'Teaching Team', 'Special Education Team', 'Additional Needs Assistants (ANAs)', 'Support Services'].map((label, i) => {
                        const keys = ['leadership', 'teachers', 'special_education', 'ana', 'support'];
                        const members = SITE_DATA.staff[keys[i]] || [];
                        return `
                            <div>
                                <h4 class="text-krc-orange font-black uppercase tracking-[0.2em] text-[10px] mb-8 border-b-2 border-krc-orange/10 pb-4">${label}</h4>
                                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6">
                                    ${members.map(m => renderStaffCard(m)).join('')}
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `,
            ethos: () => `
                <div class="mb-12 fade-in"><h2 class="text-4xl font-black text-krc-teal leading-tight tracking-tight">Ethos & Values</h2></div>
                <section class="bg-white p-12 rounded-[2.5rem] shadow-lg border border-gray-100 mb-12">
                    <h3 class="text-3xl font-black text-krc-teal mb-8">${SITE_DATA.ethos.title}</h3>
                    <div class="text-gray-700 text-lg leading-relaxed space-y-6">
                        ${SITE_DATA.ethos.main_content.split('\n').map(p => p ? `<p>${p}</p>` : '').join('')}
                    </div>
                </section>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    ${SITE_DATA.ethos.links.map(link => `
                        <a href="${link.url}" target="_blank" class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm flex flex-col justify-between hover:shadow-md transition border-t-4 border-krc-orange">
                            <h4 class="font-bold text-gray-800 mb-4 leading-tight">${link.title}</h4>
                            <span class="text-krc-teal font-black text-xs uppercase tracking-wider">Visit Website &rarr;</span>
                        </a>
                    `).join('')}
                </div>
            `,
            bom: () => `
                <div class="mb-12 fade-in"><h2 class="text-4xl font-black text-krc-teal leading-tight tracking-tight">Board of Management</h2></div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 text-left">
                    <div class="lg:col-span-2 space-y-12">
                        <section class="bg-white p-10 rounded-[2.5rem] shadow-lg border border-gray-100">
                            <h3 class="text-2xl font-bold text-krc-teal mb-8 leading-tight">About our BOM</h3>
                            <p class="text-gray-700 mb-6 text-lg leading-relaxed">${SITE_DATA.bom.about}</p>
                            <ul class="grid md:grid-cols-2 gap-4 text-sm font-medium">
                                ${SITE_DATA.bom.responsibilities.map(r => `<li class="flex items-start p-4 bg-gray-50 rounded-xl leading-tight"><span class="text-krc-orange mr-3">‚óè</span> ${r}</li>`).join('')}
                            </ul>
                        </section>

                        <section class="bg-white p-10 rounded-[2.5rem] shadow-lg border border-gray-100">
                            <h3 class="text-2xl font-bold text-krc-teal mb-8">Current Members</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                ${SITE_DATA.bom.members.map(m => `
                                    <div class="p-6 border-2 border-krc-light rounded-3xl group hover:border-krc-teal transition">
                                        <p class="font-black text-gray-800 text-lg leading-tight">${m.name}</p>
                                        <p class="text-[10px] font-bold text-krc-orange uppercase tracking-widest mt-2">${m.role}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </section>
                    </div>
                    <div class="lg:col-span-1">
                        <section class="bg-krc-teal text-white p-10 rounded-[2.5rem] shadow-xl sticky top-32">
                            <h3 class="text-2xl font-black mb-8 flex items-center"><span class="mr-3">üìÅ</span> Minutes</h3>
                            <div class="space-y-4">
                                ${SITE_DATA.bom.reports.map(r => `<a href="${r.url}" class="block p-5 bg-white/10 rounded-2xl hover:bg-white/20 transition font-bold border border-white/5 text-center">${r.title}</a>`).join('')}
                            </div>
                        </section>
                    </div>
                </div>
            `,
            pa: () => `
                <div class="mb-12 fade-in"><h2 class="text-4xl font-black text-krc-teal leading-tight tracking-tight">Parents Association</h2></div>
                <section class="bg-white p-12 rounded-[3rem] shadow-xl border border-gray-100 flex flex-col md:flex-row gap-12 items-center text-left">
                    <div class="md:w-2/3">
                        <h3 class="text-4xl font-black text-krc-orange mb-6 tracking-tight leading-tight">Building Community</h3>
                        <p class="text-xl text-gray-700 leading-relaxed mb-10">${SITE_DATA.pa.message}</p>
                        <button class="bg-krc-orange text-white px-12 py-4 rounded-2xl font-black shadow-lg hover:shadow-2xl transition transform hover:-translate-y-1">Contact PA Committee</button>
                    </div>
                    <div class="md:w-1/3 bg-krc-orange-light p-10 rounded-[2rem] border-2 border-krc-orange/10 italic text-orange-900 text-center shadow-inner leading-relaxed">
                        "Every child, parent and staff member should feel like they genuinely belong."
                    </div>
                </section>
            `,
            learning: () => `
                <div class="mb-12 fade-in"><h2 class="text-4xl font-black text-krc-teal leading-tight tracking-tight">Learning & Curriculum</h2></div>
                <div class="bg-white p-12 rounded-[2.5rem] shadow-lg border border-gray-100 text-center">
                    <h3 class="text-2xl font-bold text-krc-teal mb-8">Ethical Education Overview</h3>
                    <p class="text-gray-600 mb-12 max-w-2xl mx-auto leading-relaxed">Ethical Education focuses on questions of equality, justice, sustainability and active citizenship.</p>
                    <div class="chart-container"><canvas id="curriculumChart"></canvas></div>
                </div>
            `,
            parents: () => `
                <div class="mb-12 fade-in"><h2 class="text-4xl font-black text-krc-teal leading-tight tracking-tight">Parent Hub</h2></div>
                <div class="grid md:grid-cols-2 gap-10 text-left">
                    <div class="bg-white p-10 rounded-[2.5rem] border border-gray-100 shadow-sm">
                        <h3 class="text-2xl font-bold mb-10 text-krc-teal">Key Policies</h3>
                        <div class="space-y-4">
                            ${SITE_DATA.policies.map(p => `
                                <div class="p-5 bg-gray-50 rounded-2xl flex justify-between items-center hover:bg-krc-light transition group cursor-pointer">
                                    <span class="font-bold text-gray-700">${p.name}</span>
                                    <span class="text-[10px] font-black bg-white border border-krc-orange text-krc-orange px-3 py-1 rounded-full">PDF</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="bg-krc-teal text-white p-12 rounded-[2.5rem] shadow-xl flex flex-col justify-between">
                        <div>
                            <h3 class="text-3xl font-black mb-6">Quick Access</h3>
                            <p class="text-teal-100 text-lg mb-10 leading-relaxed">Manage your child's records or access the full school calendar.</p>
                        </div>
                        <div class="space-y-4">
                            <button class="w-full bg-white text-krc-teal py-4 rounded-2xl font-black hover:shadow-lg transition">Login to Aladdin</button>
                            <button class="w-full border-2 border-white/30 text-white py-4 rounded-2xl font-black hover:bg-white/10 transition">Download Calendar</button>
                        </div>
                    </div>
                </div>
            `,
            news: () => `<div class="py-24 text-center bg-white rounded-[3rem] border border-gray-100 shadow-sm fade-in"><div class="text-7xl mb-8">üóûÔ∏è</div><h2 class="text-4xl font-black text-krc-teal mb-4">Latest News</h2><p class="text-xl text-gray-500 max-w-xl mx-auto leading-relaxed">School updates and photos will appear here as they are published.</p></div>`,
            admissions: () => `<div class="max-w-4xl mx-auto py-12 text-center fade-in"><h2 class="text-6xl font-black text-krc-teal mb-12 leading-tight tracking-tight">Admissions</h2><div class="bg-white p-16 rounded-[3rem] border border-gray-100 shadow-xl"><h4 class="text-3xl font-black mb-6">Join Our Family</h4><p class="text-gray-600 mb-10 text-xl leading-relaxed text-left">Applications for Junior Infants normally open in October each year for the following September.</p><button class="bg-krc-orange text-white px-12 py-5 rounded-2xl font-black shadow-xl hover:scale-105 transition">Download Admissions Notice</button></div></div>`
        };

        function renderStaffCard(member) {
            const fallback = `https://ui-avatars.com/api/?name=${encodeURIComponent(member.name)}&background=006064&color=fff&size=200`;
            return `
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 text-center hover:shadow-md transition">
                    <div class="w-20 h-20 rounded-full mx-auto mb-4 overflow-hidden border-2 border-krc-light bg-gray-50">
                        <img src="${member.image || fallback}" class="w-full h-full object-cover" onerror="this.src='${fallback}'">
                    </div>
                    <h4 class="font-bold text-gray-800 text-xs leading-tight mb-1">${member.name}</h4>
                    <p class="text-krc-orange font-bold text-[9px] uppercase tracking-wider">${member.role}</p>
                </div>
            `;
        }

        function toggleMobileMenu() {
            const el = document.getElementById('mobile-menu');
            el.classList.toggle('hidden');
        }

        function router(view) {
            currentView = view;
            renderApp();
            window.scrollTo(0, 0);
            
            // Auto-close mobile menu on navigation
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenu) mobileMenu.classList.add('hidden');
        }

        function renderApp() {
            if (!SITE_DATA) return;
            const app = document.getElementById('app');
            app.innerHTML = `
                ${UI.Navbar()}
                <main class="flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                    ${Pages[currentView]()}
                </main>
                ${UI.Footer()}
            `;
            
            setTimeout(() => {
                if (currentView === 'home') initHomeStats();
                if (currentView === 'learning') initLearningChart();
            }, 100);
        }

        function initHomeStats() {
            const ctx = document.querySelector('#homeStatsChart');
            if (!ctx || !SITE_DATA.growth_chart) return;
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: SITE_DATA.growth_chart.labels,
                    datasets: [{
                        label: 'Students', data: SITE_DATA.growth_chart.data,
                        backgroundColor: '#F57C00', borderRadius: 8, barThickness: 25
                    }]
                },
                options: { 
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { display: false }, x: { grid: { display: false }, border: { display: false } } }
                }
            });
        }

        function initLearningChart() {
            const ctx = document.querySelector('#curriculumChart');
            if (!ctx) return;
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Moral Dev', 'Equality', 'Beliefs', 'Environment'],
                    datasets: [{
                        data: [25, 25, 25, 25],
                        backgroundColor: ['#006064', '#F57C00', '#009688', '#B2DFDB'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });
        }

        window.onload = loadSiteData;
    </script>
</body>
</html>
