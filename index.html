<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KRCETNS | Interactive School Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans', sans-serif; scroll-behavior: smooth; }
        .bg-krc-teal { background-color: #006064; }
        .text-krc-teal { color: #006064; }
        .border-krc-teal { border-color: #006064; }
        .bg-krc-orange { background-color: #F57C00; }
        .text-krc-orange { color: #F57C00; }
        .border-krc-orange { border-color: #F57C00; }
        .bg-krc-light { background-color: #F1F8F9; }
        .bg-krc-orange-light { background-color: #FFF3E0; }
        
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: auto; height: 300px; max-height: 400px; }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .school-logo { height: 60px; width: auto; object-fit: contain; }
        .school-logo-footer { height: 80px; width: auto; filter: brightness(0) invert(1); opacity: 0.9; }
        
        .nav-text { font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.025em; }
        .dropdown-item { font-size: 0.8rem; font-weight: 600; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

    <div id="app" class="flex flex-col min-h-screen"></div>

    <script>
        /**
         * ==========================================
         * SITE_DATA: Centralized Content Management
         * ==========================================
         */
        const SITE_DATA = {
            contact: {
                phone: "01 524 1637",
                email: "info.krcetns@gmail.com",
                address: "KILLESTER RAHENY CLONTARF ETNS, COLLINS AVENUE EAST, DUBLIN 5, D05 F2H1",
                mapsUrl: "https://www.google.com/maps/search/?api=1&query=KILLESTER+RAHENY+CLONTARF+EDUCATE+TOGETHER+NATIONAL+SCHOOL+D05+F2H1"
            },
            principalMessage: `
                Welcome to Killester Raheny Clontarf (KRC) ETNS school website, where you can explore what life is like in our wonderful school. Since opening our doors in September 2019 with 7 Junior Infant pupils, we have grown each year, and we now cater for pupils up to 3rd class. We were delighted to open 2 full Autism Classes in September 2023; and by September 2026, we will have all classes from Junior Infants to 6th Class.
                <br><br>
                We are an Educate Together school, which means that we are equality-based, democratically-run, child-centred, and co-educational. The mottos of Educate Together are ‚ÄòNo Child an Outsider‚Äô and ‚ÄòLearn Together to Live Together,‚Äô and we seek to ensure that these are embedded in our school culture in authentic and tangible ways.
                <br><br>
                Celebrating diversity for us means that every child, parent/guardian and staff member feels like they genuinely belong. While we have high expectations for our pupils, we recognise that children can only learn and reach their unique potential in a nurturing school environment where they feel that they are respected for who they are, cared for, safe, and where they feel they can explore and express their own identity in a warm and secure space.
            `,
            staff: {
                leadership: [
                    { name: "Niamh O'Toole", role: "Principal" },
                    { name: "Joanne", role: "Secretary" }
                ],
                teachers: [
                    { name: "Lucy", role: "Teacher", image: "https://krcetns.com/wp-content/uploads/2025/03/xKelly-pic.jpg.pagespeed.ic.FUTpioFN7Q.webp" },
                    { name: "Edward", role: "Teacher", image: "https://krcetns.com/wp-content/uploads/2024/09/Edward.png" },
                    { name: "William", role: "Teacher", image: "https://krcetns.com/wp-content/uploads/2024/09/Eoin.png" },
                    { name: "Louise", role: "Teacher" }, { name: "Diandra", role: "Teacher" },
                    { name: "Gill", role: "Teacher" }, { name: "Eva", role: "Teacher" }
                ],
                specialEducation: [
                    { name: "Natalia", role: "SET" }, { name: "[Open]", role: "SET" }
                ],
                ana: [
                    { name: "Ailish", role: "ANA" }, { name: "Aoife", role: "ANA" }, { name: "Catherine", role: "ANA" },
                    { name: "Christina", role: "ANA" }, { name: "Christine", role: "ANA" }, { name: "Deb", role: "ANA" },
                    { name: "Kelly", role: "ANA" }, { name: "Amy", role: "ANA" }, { name: "Vanessa", role: "ANA" },
                    { name: "Abbie", role: "ANA" }, { name: "Lauren", role: "ANA" }, { name: "Bryanna", role: "ANA" }
                ],
                support: [
                    { name: "Lara", role: "Escort/Driver" }, { name: "Alan", role: "Escort/Driver" }, { name: "Carmen", role: "Escort/Driver" }
                ]
            },
            bomMembers: [
                { name: "Dr. Marie Flynn", role: "Chairperson (Patron Nominee)" },
                { name: "Trish Loughman", role: "Community Nominee" },
                { name: "N√≠amh O'Toole", role: "Principal & Secretary" },
                { name: "Dr. Anne Marie Kavanagh", role: "Community Nominee" },
                { name: "Kelly De Bruin", role: "Parent Nominee" },
                { name: "David O'Neill", role: "Parent Nominee" },
                { name: "William", role: "Teacher Nominee" }
            ],
            ethosContent: {
                intro: `Since opening our doors in 2019, we in Killester Raheny Clontarf (KRC) ETNS have been dedicated to ensuring that our school is genuinely inclusive of all the wonderful diversity that makes up our ever-changing community. With this in mind, we are committed to living by and actively promoting the values and principles of the Educate Together Charter (equality-based, co-educational, child-centred and democratically-run), and those of our Anti-Racism and Restorative Practice Statements.`,
                relationships: `Being a restorative school means that our core focus is on how we develop and maintain relationships. The relationships between all members of our school community are vital in terms of developing a genuinely warm and welcoming environment. Developing a strong bond between the children and adults in the school is central to all that we do.`
            }
        };

        /**
         * ==========================================
         * UI COMPONENTS
         * ==========================================
         */
        const UI = {
            Navbar: () => `
                <nav class="bg-white shadow-md sticky top-0 z-50">
                    <div class="max-w-[1600px] mx-auto px-4">
                        <div class="flex justify-between h-24">
                            <!-- Logo Area -->
                            <div class="flex items-center cursor-pointer flex-shrink-0" onclick="router('home')">
                                <img src="krcetns_logo.webp" alt="KRCETNS" class="school-logo mr-3">
                                <div class="hidden sm:flex flex-col">
                                    <span class="font-bold text-lg text-krc-teal leading-none">KRCETNS</span>
                                    <span class="text-[9px] text-krc-orange font-bold uppercase tracking-widest mt-1">Educate Together</span>
                                </div>
                            </div>
                            
                            <!-- Desktop Menu -->
                            <div class="hidden lg:flex items-center space-x-4">
                                <button onclick="router('home')" class="nav-text text-gray-600 hover:text-krc-teal transition">Home</button>
                                
                                <!-- Dropdown Menu -->
                                <div class="relative group h-full flex items-center">
                                    <button class="nav-text text-gray-600 group-hover:text-krc-teal transition flex items-center">
                                        Our School <span class="ml-1 text-[10px]">‚ñº</span>
                                    </button>
                                    <div class="absolute top-[80%] left-0 w-56 bg-white shadow-xl rounded-xl py-3 border border-gray-100 hidden group-hover:block fade-in z-50">
                                        <button onclick="router('team')" class="dropdown-item block w-full text-left px-6 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">Our Team</button>
                                        <button onclick="router('ethos')" class="dropdown-item block w-full text-left px-6 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">Ethos & Values</button>
                                        <button onclick="router('bom')" class="dropdown-item block w-full text-left px-6 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">Board of Management</button>
                                        <button onclick="router('pa')" class="dropdown-item block w-full text-left px-6 py-2.5 hover:bg-gray-50 hover:text-krc-teal transition">Parents Association</button>
                                    </div>
                                </div>

                                <button onclick="router('learning')" class="nav-text text-gray-600 hover:text-krc-teal transition">Learning</button>
                                <button onclick="router('parents')" class="nav-text text-gray-600 hover:text-krc-teal transition">Parent Hub</button>
                                <button onclick="router('news')" class="nav-text text-gray-600 hover:text-krc-teal transition">News</button>
                                <button onclick="router('admissions')" class="nav-text bg-krc-orange text-white px-6 py-2.5 rounded-full shadow-md hover:bg-orange-700 transition">Join Us</button>
                            </div>

                            <!-- Mobile Toggle -->
                            <div class="flex items-center lg:hidden">
                                <button onclick="toggleMobileMenu()" class="text-3xl text-krc-teal p-2">‚ò∞</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Mobile Menu Panel -->
                    <div id="mobile-menu" class="hidden lg:hidden bg-white shadow-2xl absolute w-full border-t border-gray-100 max-h-[85vh] overflow-y-auto">
                        <div class="flex flex-col py-2">
                            <button onclick="router('home')" class="text-left px-8 py-4 font-bold text-gray-700 hover:bg-gray-50">Home</button>
                            <div class="px-8 py-3 font-black text-[10px] text-gray-400 uppercase tracking-widest bg-gray-50">Our School</div>
                            <button onclick="router('team')" class="text-left px-12 py-3 text-gray-600 hover:bg-gray-50">Our Team</button>
                            <button onclick="router('ethos')" class="text-left px-12 py-3 text-gray-600 hover:bg-gray-50">Ethos & Values</button>
                            <button onclick="router('bom')" class="text-left px-12 py-3 text-gray-600 hover:bg-gray-50">Board of Management</button>
                            <button onclick="router('pa')" class="text-left px-12 py-3 text-gray-600 hover:bg-gray-50">Parents Association</button>
                            
                            <div class="px-8 py-3 font-black text-[10px] text-gray-400 uppercase tracking-widest bg-gray-50">Information</div>
                            <button onclick="router('learning')" class="text-left px-8 py-4 font-bold text-gray-700 hover:bg-gray-50">Learning</button>
                            <button onclick="router('parents')" class="text-left px-8 py-4 font-bold text-gray-700 hover:bg-gray-50">Parent Hub</button>
                            <button onclick="router('news')" class="text-left px-8 py-4 font-bold text-gray-700 hover:bg-gray-50">News</button>
                            <button onclick="router('admissions')" class="text-center mx-6 my-4 py-4 rounded-xl font-black text-white bg-krc-orange">JOIN OUR SCHOOL</button>
                        </div>
                    </div>
                </nav>
            `,
            Footer: () => `
                <footer class="bg-slate-900 text-white mt-auto py-16">
                    <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12 text-center md:text-left">
                        <div class="flex flex-col items-center md:items-start">
                            <img src="krcetns_logo.webp" class="school-logo-footer mb-6">
                            <p class="text-slate-400 text-sm leading-relaxed max-w-xs">Equality-based, child-centred primary education for Killester, Raheny, and Clontarf.</p>
                        </div>
                        <div>
                            <h3 class="text-krc-orange font-bold mb-6 uppercase tracking-widest text-sm">Quick Links</h3>
                            <div class="flex flex-col space-y-3 text-slate-400 text-sm">
                                <button onclick="router('team')" class="hover:text-white text-left">Meet the Team</button>
                                <button onclick="router('ethos')" class="hover:text-white text-left">Ethos & Values</button>
                                <button onclick="router('bom')" class="hover:text-white text-left">Board of Management</button>
                                <button onclick="router('pa')" class="hover:text-white text-left">Parents Association</button>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-krc-orange font-bold mb-6 uppercase tracking-widest text-sm">Contact</h3>
                            <a href="${SITE_DATA.contact.mapsUrl}" target="_blank" class="block text-slate-400 text-sm hover:text-white leading-relaxed">
                                Collins Avenue East,<br>Dublin 5, D05 F2H1
                            </a>
                            <p class="text-slate-400 text-sm mt-4 font-bold">01 524 1637</p>
                            <p class="text-slate-400 text-sm mt-2">${SITE_DATA.contact.email}</p>
                        </div>
                        <div>
                            <h3 class="text-krc-orange font-bold mb-6 uppercase tracking-widest text-sm">Enrollment</h3>
                            <button onclick="router('admissions')" class="bg-krc-teal hover:bg-teal-700 text-white px-6 py-3 rounded-xl text-sm font-bold transition w-full shadow-lg">Apply to Join</button>
                        </div>
                    </div>
                </footer>
            `
        };

        /**
         * ==========================================
         * PAGE RENDERERS
         * ==========================================
         */
        const Pages = {
            home: () => `
                <section class="mb-16 text-center py-8">
                    <h1 class="text-5xl md:text-7xl font-black text-krc-teal mb-6 tracking-tight leading-tight">Learn Together to Live Together</h1>
                    <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">KRCETNS is a warm, nurturing environment where every child genuinely belongs.</p>
                </section>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                    <a href="mailto:${SITE_DATA.contact.email}" class="bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 flex items-center hover:shadow-md transition">
                        <div class="text-4xl mr-6">‚úâÔ∏è</div>
                        <div><h4 class="font-bold text-gray-800">Email</h4><p class="text-sm text-gray-500">${SITE_DATA.contact.email}</p></div>
                    </a>
                    <a href="${SITE_DATA.contact.mapsUrl}" target="_blank" class="bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 flex items-center hover:shadow-md transition group">
                        <div class="text-4xl mr-6">üìç</div>
                        <div><h4 class="font-bold text-gray-800 group-hover:text-krc-teal">Location</h4><p class="text-sm text-gray-500">Collins Ave East, D5</p></div>
                    </a>
                    <div class="bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 flex items-center">
                        <div class="text-4xl mr-6">üìû</div>
                        <div><h4 class="font-bold text-gray-800">Phone</h4><p class="text-sm text-gray-500">${SITE_DATA.contact.phone}</p></div>
                    </div>
                </div>

                <div class="bg-white p-12 rounded-[3rem] shadow-xl border border-gray-100 grid lg:grid-cols-2 gap-16 items-center">
                    <div>
                        <h2 class="text-4xl font-black text-krc-teal mb-6">Our School's Growth</h2>
                        <p class="text-lg text-gray-600 mb-8 leading-relaxed">Since opening in 2019, we have grown from 7 pupils to a community catering for 3rd class. By 2026, we will be a full primary school.</p>
                        <button onclick="router('team')" class="bg-krc-teal text-white px-8 py-3.5 rounded-2xl font-bold shadow-lg hover:bg-teal-700 transition">Meet the Team</button>
                    </div>
                    <div class="chart-container"><canvas id="homeStatsChart"></canvas></div>
                </div>
            `,
            team: () => `
                <div class="mb-12"><h2 class="text-4xl font-black text-krc-teal">Meet Our Team</h2></div>
                <section class="bg-white p-10 md:p-14 rounded-[2.5rem] shadow-lg border border-gray-100 mb-16">
                    <h3 class="text-3xl font-black text-krc-teal mb-8">Principal's Welcome</h3>
                    <div class="text-gray-700 leading-relaxed text-lg space-y-6">${SITE_DATA.principalMessage}</div>
                    <div class="mt-10 pt-10 border-t border-gray-50">
                        <p class="font-black text-2xl text-krc-teal">Niamh O‚ÄôToole</p>
                        <p class="text-krc-orange font-bold uppercase tracking-widest text-xs">Principal</p>
                    </div>
                </section>
                <div class="space-y-20">
                    ${['Leadership & Admin', 'Teaching Team', 'Special Education', 'ANAs', 'Support'].map((label, i) => {
                        const keys = ['leadership', 'teachers', 'specialEducation', 'ana', 'support'];
                        return `
                            <div>
                                <h4 class="text-krc-orange font-black uppercase tracking-[0.2em] text-[10px] mb-8 border-b-2 border-krc-orange/10 pb-4">${label}</h4>
                                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6">
                                    ${SITE_DATA.staff[keys[i]].map(m => renderStaffCard(m)).join('')}
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `,
            ethos: () => `
                <div class="mb-12"><h2 class="text-4xl font-black text-krc-teal">Ethos & Values</h2></div>
                <section class="bg-white p-12 rounded-[2.5rem] shadow-lg border border-gray-100 mb-12">
                    <h3 class="text-3xl font-black text-krc-teal mb-8">Our Core Identity</h3>
                    <div class="text-gray-700 text-lg leading-relaxed space-y-6">
                        <p>${SITE_DATA.ethosContent.intro}</p>
                        <p>${SITE_DATA.ethosContent.relationships}</p>
                    </div>
                </section>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                    <div class="bg-krc-teal text-white p-10 rounded-[2rem] shadow-xl flex flex-col justify-between">
                        <div>
                            <h4 class="text-2xl font-bold mb-6 text-krc-orange">Restorative Practice</h4>
                            <p class="mb-8 leading-relaxed">Focusing on building, maintaining and repairing relationships across the whole community.</p>
                        </div>
                        <a href="https://www.connectrp.ie" target="_blank" class="bg-white/10 p-5 rounded-2xl text-center font-bold hover:bg-white/20 transition">Visit Connect RP Website &rarr;</a>
                    </div>
                    <div class="bg-white p-10 rounded-[2rem] border border-gray-100 shadow-lg flex flex-col justify-between">
                        <div>
                            <h4 class="text-2xl font-bold text-krc-teal mb-6">Educate Together</h4>
                            <p class="text-gray-600 mb-8 leading-relaxed">Equality-based, Co-educational, Child-centred, and Democratically-run.</p>
                        </div>
                        <a href="https://www.educatetogether.ie/about/charter/" target="_blank" class="bg-krc-light p-5 rounded-2xl text-center font-bold text-krc-teal hover:bg-teal-50 transition">Read ET Charter &rarr;</a>
                    </div>
                </div>
            `,
            bom: () => `
                <div class="mb-12"><h2 class="text-4xl font-black text-krc-teal">Board of Management</h2></div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                    <div class="lg:col-span-2 space-y-8">
                        <section class="bg-white p-10 rounded-[2.5rem] shadow-lg border border-gray-100">
                            <h3 class="text-2xl font-bold text-krc-teal mb-8 tracking-tight leading-tight">Board Members</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                ${SITE_DATA.bomMembers.map(m => `
                                    <div class="p-6 border-2 border-krc-light rounded-3xl">
                                        <p class="font-black text-gray-800 text-lg leading-tight">${m.name}</p>
                                        <p class="text-[10px] font-bold text-krc-orange uppercase tracking-widest mt-2">${m.role}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </section>
                    </div>
                    <div class="lg:col-span-1">
                        <section class="bg-krc-teal text-white p-10 rounded-[2.5rem] shadow-xl sticky top-32">
                            <h3 class="text-2xl font-black mb-8 flex items-center"><span class="mr-3">üìÅ</span> Minutes</h3>
                            <div class="space-y-4">
                                <div class="p-5 bg-white/10 rounded-2xl hover:bg-white/20 transition cursor-pointer font-bold border border-white/5">Agreed Report - Oct 2025</div>
                                <div class="p-5 bg-white/10 rounded-2xl hover:bg-white/20 transition cursor-pointer font-bold border border-white/5">Agreed Report - June 2025</div>
                            </div>
                        </section>
                    </div>
                </div>
            `,
            pa: () => `
                <div class="mb-12"><h2 class="text-4xl font-black text-krc-teal text-nowrap tracking-tight leading-tight">Parents Association</h2></div>
                <section class="bg-white p-12 rounded-[3rem] shadow-xl border border-gray-100 flex flex-col md:flex-row gap-12 items-center">
                    <div class="md:w-2/3 text-center md:text-left">
                        <h3 class="text-4xl font-black text-krc-orange mb-6">Building Community</h3>
                        <p class="text-xl text-gray-700 leading-relaxed mb-10">Every parent and guardian is a member. We work together to ensure children feel respected, cared for, and secure.</p>
                        <button class="bg-krc-orange text-white px-12 py-4 rounded-2xl font-black shadow-lg hover:shadow-2xl transition transform hover:-translate-y-1">Contact PA Committee</button>
                    </div>
                    <div class="md:w-1/3 bg-krc-orange-light p-10 rounded-[2rem] border-2 border-krc-orange/10 italic text-orange-900 text-center">
                        "Empowering parents to participate democratically in school life."
                    </div>
                </section>
            `,
            learning: () => `
                <div class="mb-12"><h2 class="text-4xl font-black text-krc-teal tracking-tight leading-tight">Learning & Curriculum</h2></div>
                <div class="bg-white p-12 rounded-[2.5rem] shadow-lg border border-gray-100">
                    <h3 class="text-2xl font-bold text-krc-teal mb-8">Learn Together Overview</h3>
                    <div class="chart-container"><canvas id="curriculumChart"></canvas></div>
                </div>
            `,
            parents: () => `
                <div class="mb-12"><h2 class="text-4xl font-black text-krc-teal tracking-tight leading-tight">Parent Hub</h2></div>
                <div class="grid md:grid-cols-2 gap-10">
                    <div class="bg-white p-10 rounded-[2.5rem] border border-gray-100 shadow-sm">
                        <h3 class="text-2xl font-bold mb-10">Key Policies</h3>
                        <div class="space-y-4">
                            ${['Code of Behavior', 'Anti-Bullying', 'Child Safeguarding', 'Admissions Notice'].map(p => `
                                <div class="p-5 bg-gray-50 rounded-2xl flex justify-between items-center hover:bg-krc-light transition group cursor-pointer">
                                    <span class="font-bold text-gray-700">${p}</span>
                                    <span class="text-[10px] font-black bg-white border border-krc-orange text-krc-orange px-3 py-1 rounded-full">PDF</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="bg-krc-teal text-white p-12 rounded-[2.5rem] shadow-xl flex flex-col justify-between">
                        <div><h3 class="text-3xl font-black mb-6">Quick Access</h3><p class="text-teal-100 text-lg mb-10 leading-relaxed">Log in to Aladdin Connect or download the current school calendar.</p></div>
                        <div class="space-y-4">
                            <button class="w-full bg-white text-krc-teal py-4 rounded-2xl font-black hover:shadow-lg transition">Login to Aladdin</button>
                            <button class="w-full border-2 border-white/30 text-white py-4 rounded-2xl font-black hover:bg-white/10 transition">School Calendar</button>
                        </div>
                    </div>
                </div>
            `,
            news: () => `<div class="py-24 text-center bg-white rounded-[3rem] border border-gray-100 shadow-sm"><div class="text-7xl mb-8">üóûÔ∏è</div><h2 class="text-4xl font-black text-krc-teal mb-4">Latest News</h2><p class="text-xl text-gray-500 max-w-xl mx-auto">School updates and photos will appear here as they are published.</p></div>`,
            admissions: () => `<div class="max-w-4xl mx-auto py-12 text-center"><h2 class="text-6xl font-black text-krc-teal mb-12 tracking-tight leading-tight">Admissions</h2><div class="bg-white p-16 rounded-[3rem] border border-gray-100 shadow-xl"><h4 class="text-3xl font-black mb-6">Join Our Family</h4><p class="text-gray-600 mb-10 text-xl leading-relaxed">Applications for Junior Infants normally open in October each year.</p><button class="bg-krc-orange text-white px-12 py-5 rounded-2xl font-black shadow-xl hover:scale-105 transition">Download Admissions Notice</button></div></div>`
        };

        /**
         * ==========================================
         * APP STATE & CORE LOGIC
         * ==========================================
         */
        let currentView = 'home';

        function renderStaffCard(member) {
            const fallback = `https://ui-avatars.com/api/?name=${encodeURIComponent(member.name)}&background=006064&color=fff&size=200`;
            return `
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 text-center hover:shadow-md transition">
                    <div class="w-20 h-20 rounded-full mx-auto mb-4 overflow-hidden border-2 border-krc-light bg-gray-50">
                        <img src="${member.image || fallback}" class="w-full h-full object-cover" onerror="this.src='${fallback}'">
                    </div>
                    <h4 class="font-bold text-gray-800 text-xs leading-tight mb-1">${member.name}</h4>
                    <p class="text-krc-orange font-bold text-[9px] uppercase tracking-wider">${member.role}</p>
                </div>
            `;
        }

        function toggleMobileMenu() {
            const el = document.getElementById('mobile-menu');
            el.classList.toggle('hidden');
        }

        function router(view) {
            currentView = view;
            renderApp();
            window.scrollTo(0, 0);
        }

        function renderApp() {
            const app = document.getElementById('app');
            app.innerHTML = `
                ${UI.Navbar()}
                <main class="flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                    <div class="fade-in">${Pages[currentView]()}</div>
                </main>
                ${UI.Footer()}
            `;
            
            setTimeout(() => {
                if (currentView === 'home') initHomeStats();
                if (currentView === 'learning') initLearningChart();
            }, 100);
        }

        function initHomeStats() {
            const ctx = document.querySelector('#homeStatsChart');
            if (!ctx) return;
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['2019', '2020', '2021', '2022', '2023', 'Today'],
                    datasets: [{
                        label: 'Students', data: [7, 24, 45, 80, 115, 140],
                        backgroundColor: '#F57C00', borderRadius: 8, barThickness: 25
                    }]
                },
                options: { 
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { display: false }, x: { grid: { display: false }, border: { display: false } } }
                }
            });
        }

        function initLearningChart() {
            const ctx = document.querySelector('#curriculumChart');
            if (!ctx) return;
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Moral Dev', 'Equality', 'Beliefs', 'Environment'],
                    datasets: [{
                        data: [25, 25, 25, 25],
                        backgroundColor: ['#006064', '#F57C00', '#009688', '#B2DFDB'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });
        }

        window.onload = renderApp;
    </script>
</body>
</html>
